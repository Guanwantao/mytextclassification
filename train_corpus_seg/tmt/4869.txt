一种 在 结构化 P2P 网络 中 实现 NAT 穿越 的 方法 和 系统 本发明 公开 在 结构化 P2P 网络 中 实现 NAT 穿越 的 方法 和 系统 。 该 方法 包括 ： 用户 节点 与 一个 处于 外网 的 引导 节点 联系 ， 获得 引导 节点 路由表 中 与其 ID 异或 距离 为 一 设定值 的 其他 用户 节点 的 信息 建立 并 更新 自己 的 路由表 ； 用户 节点 判断 自己 对外 的 IP地址 和 端口号 与 内网 的 IP地址 和 端口号 是否 相同 ， 若 是 表示 用户 节点 处于 外 网 ； 否则 表示 用户 节点 处于 内 网 ； 用户 节点 随机 选择 一 处于 外网 的 用户 节点 作为 自己 的 伙伴 节点 添加 伙伴 节点 的 信息 ； 同时 发布 包括 其 伙伴 节点 的 IP地址 、 端口号 、 ID 的 更新 消息 给 路由表 内 的 各 节点 ， 各 节点 更新 各自 路由表 的 信息 ； 用户 节点 间 采用 让 伙伴 节点 转发 的 方式 传输 控制 信息 ； 用户 节点 间 采用 让 伙伴 节点 协助 连接 的 方式 传输数据 信息 。 
