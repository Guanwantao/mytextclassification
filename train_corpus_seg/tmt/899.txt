一种 基于 嵌入式 文件系统 的 流式 数据 写入 方法 本发明 实施 例 涉及 一种 基于 嵌入式 文件系统 的 流式 数据 写入 方法 ， 所述 方法 包括 ： 接收 待 写入 磁盘 的 流式 数据 ； 将 接收 的 流式 数据 以 链表 结构 进行 组织 并 缓存 ， 当 缓存 的 数据 长度 达到 设定 的 阈值 时 ， 触发 将 缓存 的 流式 数据 写入 磁盘 的 写 操作 ； 从 缓存 中 分离 流式 数据 ： 计算 本次 欲 写入 磁盘 的 数据 长度 ， 所述 长度 须 为 磁盘 扇区 大小 的 整数倍 ， 且 对应 区段 的 数据 在 物理 上 和 逻辑 上均 保持 连续 ， 分离 后 的 子 链表 对应 的 数据 长度 应 与 本次 欲 写入 磁盘 的 数据 长度 相等 ； 将 分离 出 的 流式 数据 写入 磁盘 ： 调用 下层 写 接口 将 分离 出 的 流式 数据 写入 磁盘 ， 写入 数据 时 采用 异步 非 阻塞 模式 ， 而 非 阻塞 在 将 数据 写入 磁盘 的 过程 中 ， 待 文件系统 收到 数据 写入 磁盘 成功 的 消息 后 ， 尝试 触发 下 一次 写 操作 。 
