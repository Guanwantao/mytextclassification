双 WIFI 模块 的 AP 模式 和 P2P 模式 共存 的 方法 本发明 提供 了 双 WIFI 模块 Android 设备 的 AP 模式 和 P2P 模式 共存 的 方法 ， 包括 ： 设置 P2P 模式 ? WIFI 和 AP 模式 WIFI ， 加载 各自 驱动 ， 创建 wlan0 为 P2P 模式 WIFI 作为 station 时 的 网络 节点 ， 并且 设定 p2p0 作为 P2P 时 的 网络 节点 ， 创建 wlan1 作为 AP 模式 的 网络 节点 ， 并且 创建 wlan3 节点 ; ? 设定 AP 模式 的 IP地址 为 192.168 . X.0 / 24 ， p2p 模式 的 IP地址 为 192.168 . Y.0 / 24 ; 修改 Android 系统 后台 中 开启 dnsmasq 模块 的 代码 ， 并 删除 Android 系统 后台 中 开启 Miracast 单元 的 时 关闭 dnsmasq 模块 的 操作 ； 修改 dnsmasq 模块 的 配置 ， 配置 为 wlan1 分配 192.168 . X.2 - 192.168 . X.254 区域 的 IP地址 ， 并且 配置 为 P2P 分配 192.168 . Y.2 - 192.168 . Y.254 区域 的 IP地址 ； AP 模式 可以 和 p2p 模式 共同 运行 。 实施 本发明 的 技术 方案 的 有益 效果 是 ， 实现 了 可以 在 双 wifi 的 情况 下 可以 正常 的 使用 Miracast 功能 ， 实现 在 Android 系统 下 的 AP 模式 和 P2P 模式 共存 。 
