一种 NAT 穿越 中 分布式 中继 服务器 的 分配 和 选择 方法 及 系统 本发明 公开 了 一种 NAT 穿越 中 分布式 中继 服务器 的 分配 和 选择 方法 及 系统 ， 系统 维持 一个 逻辑 上 一致 的 中继 服务器 状态 数据库 和 一个 网络拓扑 数据库 , 希望 获得 转交 地址 的 客户 可以 向 任何 一个 中继 服务器发送 分配 请求 , 中继 服务器 根据 服务器 状态 数据库 和 网络拓扑 数据库 ， 遴选出 与 该 客户 匹配 的 最佳 的 中继 服务器 ， 并 通过 备选 服务器 属性 告知 客户 。 此外 ， 当 两个 客户端 均 位于 对称 NAT 后面 且 被 分配 了 不同 的 中继 服务器时 ， 由 处于 控制 方 的 一端 通过 网络 探测 的 方式 选择 最优 的 转交 地址 并 告知 被控 端 。 本发明 可以 满足 大量 用户 位于 地址 或 地址 和 端口 依赖型 NAT 之后 情况 下 的 流量 中继 服务 需求 , 能 优化 服务器资源 和 网络带宽 资源 的 使用 ， 降低 端 对 端 传输 的 延迟 ， 提高 端 对 端 传输 的 性能 。 
